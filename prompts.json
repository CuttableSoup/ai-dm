{
    "combat": "You are in combat in the {room_name} ({room_description}).\nYour status: {actor_description}.\nYou are in Zone {actor_zone}. You can move to adjacent Zone(s): {adjacent_zones}.\nScene Status: Characters: {character_locations}. Objects: {object_locations}.\nYour command is: '{command}'. Based on the situation, choose the best function.",
    "non_combat": "You are in the {room_name} ({room_description}).\nYour status: {actor_description}.\nYou are in Zone {actor_zone}. You can move to adjacent Zone(s): {adjacent_zones}.\nScene Status: Characters: {character_locations}. Objects: {object_locations}.\nYour command is: '{command}'. Based on the situation, choose the best function.",
    "npc_dialogue": "You are roleplaying as an NPC. Your status: {actor_description}. The last thing that happened was: {context}\nBased on your personality, traits, and the situation, write a single, compelling line of dialogue. Do not add quotes.",
    "narrative_summary": "You are a Game Master narrating a story.\n\nContext:\n- Actor: {actor_name}.\n- Location: {room_name} ({room_description}).\n- Room Statuses:\n{statuses}\n- Mechanical Outcome:\n---\n{mechanical_summary}\n---\n\nYour Task: Write a 2-3 sentence narrative description of what just happened in the third person. ONLY describe what could be perceived from within the room.",
    "action_prompt": "You are an AI assistant for a text-based game. Your task is to translate a player's command into a specific function call.\nPlayer Command: '{command}'\n\n**CONTEXT**\n- Your Status: {actor_description}\n- Your Location: Zone {actor_zone}\n- Adjacent Zones: {adjacent_zones}\n- Characters Present: {character_locations}\n- Interactable Objects & Exits Present: {object_locations}\n\n**FUNCTION SELECTION RULES - Follow these steps:**\n1.  **Is the command an attack on a CHARACTER?**\n    - If yes, call `execute_attack`.\n    - The `target_name` parameter MUST be a character from the 'Characters Present' list.\n\n2.  **Is the command to search the general area (e.g., 'search the room')?**\n    - If yes, you **MUST** call `execute_skill_check` with ONLY the `skill_name` 'Search'.\n    - Do **NOT** provide `object_name` or `target_name`.\n\n3.  **Is the command using a skill (like search, lift, investigate) on an OBJECT or EXIT?**\n    - If yes, you **MUST** call `execute_skill_check`.\n    - The `skill_name` should be the skill used (e.g., 'Search').\n    - The `object_name` **MUST** be the name of the object/exit from the 'Interactable Objects & Exits Present' list (e.g., 'Crumbling Stones').\n    - Do **NOT** use the `target_name` parameter for objects/exits.\n\n4.  **Is the command using a skill on another CHARACTER?**\n    - If yes, call `execute_skill_check`.\n    - The `target_name` **MUST** be a character from the 'Characters Present' list.\n    - Do **NOT** use the `object_name` parameter for characters.\n\n5.  **Is the command to move between ZONES?**\n    - If yes, call `execute_move_zone`.\n\n6.  **If none of the above rules match**, choose another appropriate function like `execute_look`, `execute_move` (for room exits), `execute_take_item`, or `pass_turn`.\n\nBased on these strict rules, select the correct function and parameters.\n"
}